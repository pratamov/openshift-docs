<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>References - OpenShift Developer Documentation</title>
    <link href="../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../js/jquery-3.2.1.min.js"></script>
    <script src="../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Create SSH Keys in Linux", url: "#create-ssh-keys-in-linux", children: [
          ]},
          {title: "Add Public Key in GitLab Repository", url: "#add-public-key-in-gitlab-repository", children: [
          ]},
          {title: "Add WebHook in GitLab Project", url: "#add-webhook-in-gitlab-project", children: [
          ]},
          {title: "Set Maven project for OpenShift", url: "#set-maven-project-for-openshift", children: [
          ]},
          {title: "Create Self Signed SSL in Linux", url: "#create-self-signed-ssl-in-linux", children: [
          ]},
        ];

    </script>
    <script src="../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
    

    <h2 id="create-ssh-keys-in-linux">Create SSH Keys in Linux</h2>
<p>This tutorial shows how to generate SSH Keys in Linux Operating Systems. Generated a private key file (<strong>$HOME/.ssh/id_rsa.pub</strong>) and public key file (<strong>$HOME/.ssh/id_rsa</strong>).</p>
<p><strong>1. Run SSH keygen command <code>ssh-keygen -t rsa -C [SSH_KEY_TITLE] -b 4096</code></strong></p>
<pre><code>$ ssh-keygen -t rsa -C "GitLab" -b 4096
Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /root/.ssh/id_rsa.
Your public key has been saved in /root/.ssh/id_rsa.pub.
The key fingerprint is:
ab:6c:ed:32:fb:fe:1f:93:75:9a:ba:8c:cd:c6:7b:57 GitLab
The key's randomart image is:
+--[ RSA 4096]----+
|                 |
|                 |
|                 |
|                 |
|        S     . .|
|         .   o +E|
|       ..  .+ o .|
|     .+..  =o+. .|
|     .+B+.ooO+ . |
+-----------------+
</code></pre>
<p><strong>2. Verify generated keys</strong></p>
<pre><code>$ cat $HOME/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDtfgukLBCTUcYZBYw7nBtM1dH77zKnCNaTEf4kT5nMClO8+X5taP3hXMPvfYHONBjaDmaons86uviavJTS0dFh+Vr8zl7ASG64oI9Q5UMXGfnDMszQDdNeX0SXamHlLJSGFryQ3hCYBjvLKzdK90OzpQF72D5EhziFIfJ2co50fA5s2iDVgEbaxwGKOUj0sZECTgs7z8m0WtenzRUaygKoUahJ/1woRkFlo15MqH+6a+JyBph1VMBa3R6cmmzCAXIQu5T/tikwk4EmaeRharlCd5NJaMN5YfMp8kKK3adtbIqMzjLf3eVL32HA+QEXfQ36ALNFgeVTniJ/ouAEo6KQFkSFm3J3EyaizvarKnzPrvUQPk2Tg4dwxfGLvRZHUlxIICUU/3xTLBmyO30/nqrFbYB3qd3c+o5w6zUbd1gDQsLXSkr+GSCkstNUGE+XEjRQSMYTgfmLkQAA3jw4MMmboRLnPU1fYfyRPF8Zk5Y0q+R2dys83KQInxfutAVBMhn9wI5fLr/nyCON7Zt5Qmf4lK5rs5db1y8l1aXqCvrSm6nq0BoqViTVMGEoVKjwN9DDI+E74VpuT7IhtZuXu7gREjdRmaVg6fClNL/2yR+lf2sVcMYVxAGGkuU27tvFQCC7wRFfZqs0i7gDT0Y4L/CE3vPQYI0yWqFSU/bBJTL6XQ== GitLab
</code></pre>
<h2 id="add-public-key-in-gitlab-repository">Add Public Key in GitLab Repository</h2>
<p><strong>1. Login to GitLab</strong></p>
<p><strong>2. Open SSH Keys page GitLab in <code>[GITLAB_HOST]/profile/keys</code>. Click <em>Add SSH Key</em> </strong>
<img alt="Screenshot" src="../../img/0007.png" /></p>
<p><strong>3. Fill title input. Fill Key textbox with generated SSH public key (<code>cat $HOME/.ssh/id_rsa.pub</code>).</strong>
<img alt="Screenshot" src="../../img/0017.png" /></p>
<p><strong>4. Click <em>Add key</em> </strong>
<img alt="Screenshot" src="../../img/0033.png" /></p>
<h2 id="add-webhook-in-gitlab-project">Add WebHook in GitLab Project</h2>
<p><strong>1. Open Web Hook page in selected project in <code>http://[GITLAB_HOST]/[GITLAB_USERNAME]/[GITLAB_PROJECT_NAME]/hooks</code> </strong></p>
<p><strong>2. Fill Web Hook URL. Check <em>Push events</em> selector</strong></p>
<p><strong>3. Click Add Web Hook</strong>
<img alt="Screenshot" src="../../img/0018.png" /></p>
<h2 id="set-maven-project-for-openshift">Set Maven project for OpenShift</h2>
<p>Java web application have to be a maven project to be able to deploy in OpenShift. Below is OpenShift plugin included in pom.xml.</p>
<pre><code>    ...
    &lt;profile&gt;
        &lt;id&gt;openshift&lt;/id&gt;
        &lt;build&gt;
            &lt;plugins&gt;
                &lt;plugin&gt;
                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
                    &lt;configuration&gt;
                        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;
                        &lt;outputDirectory&gt;deployments&lt;/outputDirectory&gt;
                        &lt;warName&gt;ROOT&lt;/warName&gt;
                    &lt;/configuration&gt;
                &lt;/plugin&gt;
            &lt;/plugins&gt;
        &lt;/build&gt;
    &lt;/profile&gt;
    ...
&lt;/project&gt;
</code></pre>
<h2 id="create-self-signed-ssl-in-linux">Create Self Signed SSL in Linux</h2>
<p><strong>1. Generate private key</strong>
<code>openssl genrsa -out ca.key 2048</code></p>
<pre><code>$ openssl genrsa -out ca.key 2048
Generating RSA private key, 2048 bit long modulus
............+++
........+++
e is 65537 (0x10001)
</code></pre>
<p><strong>2. Create CSR file. </strong>
<code>openssl req -new -key ca.key -out ca.csr</code></p>
<pre><code>$ openssl req -new -key ca.key -out ca.csr
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [XX]:ID
State or Province Name (full name) []:
Locality Name (eg, city) [Default City]:
Organization Name (eg, company) [Default Company Ltd]:
Organizational Unit Name (eg, section) []:
Common Name (eg, your name or your server's hostname) []:
Email Address []:

Please enter the following 'extra' attributes
to be sent with your certificate request
A challenge password []:
An optional company name []:
$ openssl x509 -req -days 365 -in ca.csr -signkey ca.key -out ca.crt
Signature ok
subject=/C=ID/L=Default City/O=Default Company Ltd
Getting Private key
</code></pre>
<p>This guide will generate <code>ca.crt</code>, <code>ca.csr</code> and <code>ca.key</code> files.</p>
<pre><code>$ ls
ca.crt  ca.csr  ca.key
</code></pre>

  <br>
</div>
<hr style="margin-left:100px;margin-right:100px" />
<footer class="col-md-12 wm-page-content text-center footer">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>
<script src="../../js/viewer.min.js"></script>
</body>
</html>